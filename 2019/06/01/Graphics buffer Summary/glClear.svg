<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="321px" preserveAspectRatio="none" style="width:468px;height:321px;" version="1.1" viewBox="0 0 468 321" width="468px" zoomAndPan="magnify"><defs><filter height="300%" id="f13kj8f6en640v" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="43.1201" y2="275.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="96" x2="96" y1="43.1201" y2="275.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="185" x2="185" y1="43.1201" y2="275.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="306" x2="306" y1="43.1201" y2="275.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="417.5" x2="417.5" y1="43.1201" y2="275.6465"/><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="38" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="12" y="28.0439">app</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="38" x="5" y="274.6465"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="12" y="297.6904">app</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="57" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="64" y="28.0439">libEGL.so</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="57" y="274.6465"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="64" y="297.6904">libEGL.so</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="146" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="153" y="28.0439">iris_dri.so</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="146" y="274.6465"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="153" y="297.6904">iris_dri.so</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="257" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="264" y="28.0439">iris_bufmgr.c</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="257" y="274.6465"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="264" y="297.6904">iris_bufmgr.c</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="376.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="383.5" y="28.0439">drm driver</text><rect fill="#FEFECE" filter="url(#f13kj8f6en640v)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="376.5" y="274.6465"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="383.5" y="297.6904">drm driver</text><polygon fill="#A80036" points="84.5,72.8745,94.5,76.8745,84.5,80.8745,88.5,76.8745" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26" x2="90.5" y1="76.8745" y2="76.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="33" y="72.0181">glClear</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="185.5" x2="227.5" y1="108.6289" y2="108.6289"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="227.5" x2="227.5" y1="108.6289" y2="121.6289"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="186.5" x2="227.5" y1="121.6289" y2="121.6289"/><polygon fill="#A80036" points="196.5,117.6289,186.5,121.6289,196.5,125.6289,192.5,121.6289" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="192.5" y="103.7725">dri3_get_buffer</text><polygon fill="#A80036" points="294.5,149.3833,304.5,153.3833,294.5,157.3833,298.5,153.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="185.5" x2="300.5" y1="153.3833" y2="153.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="192.5" y="148.5269">bo_alloc_internal</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="306.5" x2="348.5" y1="185.1377" y2="185.1377"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="348.5" x2="348.5" y1="185.1377" y2="198.1377"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307.5" x2="348.5" y1="198.1377" y2="198.1377"/><polygon fill="#A80036" points="317.5,194.1377,307.5,198.1377,317.5,202.1377,313.5,198.1377" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="313.5" y="180.2813">bo_alloc_internal</text><polygon fill="#A80036" points="405.5,239.7693,415.5,243.7693,405.5,247.7693,409.5,243.7693" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="306.5" x2="411.5" y1="243.7693" y2="243.7693"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="313.5" y="238.9128">gen_ioctl</text><path d="M20,211.1377 L20,256.1377 L297,256.1377 L297,221.1377 L287,211.1377 L20,211.1377 " fill="#ADD8E6" filter="url(#f13kj8f6en640v)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M287,211.1377 L287,221.1377 L297,221.1377 L287,211.1377 " fill="#ADD8E6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="26" y="231.0356">gen_ioctl(bufmgr-&gt;fd,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="26" y="248.79">DRM_IOCTL_I915_GEM_CREATE, &amp;create)</text><!--MD5=[cf7a8f58b43d1da2c6cca954dd3d08f3]
@startuml

app -> libEGL.so :glClear


iris_dri.so -> iris_dri.so: dri3_get_buffer

iris_dri.so -> iris_bufmgr.c: bo_alloc_internal

iris_bufmgr.c -> iris_bufmgr.c: bo_alloc_internal

iris_bufmgr.c -> "drm driver": gen_ioctl
note left #LightBlue
gen_ioctl(bufmgr->fd, 
DRM_IOCTL_I915_GEM_CREATE, &create)
end note
@enduml

PlantUML version 1.2020.18(Thu Oct 01 03:40:44 GMT+08:00 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>